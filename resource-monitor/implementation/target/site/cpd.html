<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2018-04-17 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>CPD Results</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20180417" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2018-04-17</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0.0-SNAPSHOT</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2>CPD Results<a name="CPD_Results"></a></h2>
<p>The following document contains the results of PMD's  <a class="externalLink" href="http://pmd.sourceforge.net/cpd.html">CPD</a> 5.3.5.</p></div>
<div class="section">
<h2>Duplications<a name="Duplications"></a></h2>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opendaylight/yang/gen/v1/urn/eu/virtuwind/resourcemonitor/impl/rev161017/modules/module/configuration/resourcemonitor/impl/DataBrokerBuilder.java</td>
<td>42</td></tr>
<tr class="a">
<td>org/opendaylight/yang/gen/v1/urn/eu/virtuwind/resourcemonitor/impl/rev161017/modules/module/configuration/resourcemonitor/impl/NotificationServiceBuilder.java</td>
<td>42</td></tr>
<tr class="b">
<td>org/opendaylight/yang/gen/v1/urn/eu/virtuwind/resourcemonitor/impl/rev161017/modules/module/configuration/resourcemonitor/impl/RpcRegistryBuilder.java</td>
<td>42</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>            AugmentationHolder&lt;org.opendaylight.yang.gen.v1.urn.eu.virtuwind.resourcemonitor.impl.rev161017.modules.module.configuration.resourcemonitor.impl.DataBroker&gt; casted =(AugmentationHolder&lt;org.opendaylight.yang.gen.v1.urn.eu.virtuwind.resourcemonitor.impl.rev161017.modules.module.configuration.resourcemonitor.impl.DataBroker&gt;) base;
            if (!casted.augmentations().isEmpty()) {
                this.augmentation = new HashMap&lt;&gt;(casted.augmentations());
            }
        }
    }

    /**
     *Set fields from given grouping argument. Valid argument is instance of one of following types:
     * &lt;ul&gt;
     * &lt;li&gt;org.opendaylight.yang.gen.v1.urn.opendaylight.params.xml.ns.yang.controller.config.rev130405.ServiceRef&lt;/li&gt;
     * &lt;/ul&gt;
     *
     * @param arg grouping object
     * @throws IllegalArgumentException if given argument is none of valid types
    */
    public void fieldsFrom(DataObject arg) {
        boolean isValidArg = false;
        if (arg instanceof org.opendaylight.yang.gen.v1.urn.opendaylight.params.xml.ns.yang.controller.config.rev130405.ServiceRef) {
            this._type = ((org.opendaylight.yang.gen.v1.urn.opendaylight.params.xml.ns.yang.controller.config.rev130405.ServiceRef)arg).getType();
            this._name = ((org.opendaylight.yang.gen.v1.urn.opendaylight.params.xml.ns.yang.controller.config.rev130405.ServiceRef)arg).getName();
            isValidArg = true;
        }
        if (!isValidArg) {
            throw new IllegalArgumentException(
              &quot;expected one of: [org.opendaylight.yang.gen.v1.urn.opendaylight.params.xml.ns.yang.controller.config.rev130405.ServiceRef] \n&quot; +
              &quot;but was: &quot; + arg
            );
        }
    }

    public java.lang.Object getName() {
        return _name;
    }
    
    public java.lang.Class&lt;? extends org.opendaylight.yang.gen.v1.urn.opendaylight.params.xml.ns.yang.controller.config.rev130405.ServiceType&gt; getType() {
        return _type;
    }
    
    @SuppressWarnings(&quot;unchecked&quot;)
    public &lt;E extends Augmentation&lt;org.opendaylight.yang.gen.v1.urn.eu.virtuwind.resourcemonitor.impl.rev161017.modules.module.configuration.resourcemonitor.impl.DataBroker&gt;&gt; E getAugmentation(java.lang.Class&lt;E&gt; augmentationType) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/opendaylight/yang/gen/v1/urn/eu/virtuwind/resourcemonitor/impl/rev161017/modules/module/configuration/resourcemonitor/impl/DataBrokerBuilder.java</td>
<td>164</td></tr>
<tr class="b">
<td>org/opendaylight/yang/gen/v1/urn/eu/virtuwind/resourcemonitor/impl/rev161017/modules/module/configuration/resourcemonitor/impl/NotificationServiceBuilder.java</td>
<td>164</td></tr>
<tr class="a">
<td>org/opendaylight/yang/gen/v1/urn/eu/virtuwind/resourcemonitor/impl/rev161017/modules/module/configuration/resourcemonitor/impl/RpcRegistryBuilder.java</td>
<td>164</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        public &lt;E extends Augmentation&lt;org.opendaylight.yang.gen.v1.urn.eu.virtuwind.resourcemonitor.impl.rev161017.modules.module.configuration.resourcemonitor.impl.DataBroker&gt;&gt; E getAugmentation(java.lang.Class&lt;E&gt; augmentationType) {
            if (augmentationType == null) {
                throw new IllegalArgumentException(&quot;Augmentation Type reference cannot be NULL!&quot;);
            }
            return (E) augmentation.get(augmentationType);
        }

        private int hash = 0;
        private volatile boolean hashValid = false;
        
        @Override
        public int hashCode() {
            if (hashValid) {
                return hash;
            }
        
            final int prime = 31;
            int result = 1;
            result = prime * result + Objects.hashCode(_name);
            result = prime * result + Objects.hashCode(_type);
            result = prime * result + Objects.hashCode(augmentation);
        
            hash = result;
            hashValid = true;
            return result;
        }

        @Override
        public boolean equals(java.lang.Object obj) {
            if (this == obj) {
                return true;
            }
            if (!(obj instanceof DataObject)) {
                return false;
            }
            if (!org.opendaylight.yang.gen.v1.urn.eu.virtuwind.resourcemonitor.impl.rev161017.modules.module.configuration.resourcemonitor.impl.DataBroker.class.equals(((DataObject)obj).getImplementedInterface())) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opendaylight/yang/gen/v1/urn/eu/virtuwind/resourcemonitor/impl/rev161017/modules/module/configuration/resourcemonitor/impl/DataBrokerBuilder.java</td>
<td>145</td></tr>
<tr class="a">
<td>org/opendaylight/yang/gen/v1/urn/eu/virtuwind/resourcemonitor/impl/rev161017/modules/module/configuration/resourcemonitor/impl/NotificationServiceBuilder.java</td>
<td>145</td></tr>
<tr class="b">
<td>org/opendaylight/yang/gen/v1/urn/eu/virtuwind/resourcemonitor/impl/rev161017/modules/module/configuration/resourcemonitor/impl/RpcRegistryBuilder.java</td>
<td>145</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>                this.augmentation = Collections.&lt;java.lang.Class&lt;? extends Augmentation&lt;org.opendaylight.yang.gen.v1.urn.eu.virtuwind.resourcemonitor.impl.rev161017.modules.module.configuration.resourcemonitor.impl.DataBroker&gt;&gt;, Augmentation&lt;org.opendaylight.yang.gen.v1.urn.eu.virtuwind.resourcemonitor.impl.rev161017.modules.module.configuration.resourcemonitor.impl.DataBroker&gt;&gt;singletonMap(e.getKey(), e.getValue());
                break;
            default :
                this.augmentation = new HashMap&lt;&gt;(base.augmentation);
            }
        }

        @Override
        public java.lang.Object getName() {
            return _name;
        }
        
        @Override
        public java.lang.Class&lt;? extends org.opendaylight.yang.gen.v1.urn.opendaylight.params.xml.ns.yang.controller.config.rev130405.ServiceType&gt; getType() {
            return _type;
        }
        
        @SuppressWarnings(&quot;unchecked&quot;)
        @Override
        public &lt;E extends Augmentation&lt;org.opendaylight.yang.gen.v1.urn.eu.virtuwind.resourcemonitor.impl.rev161017.modules.module.configuration.resourcemonitor.impl.DataBroker&gt;&gt; E getAugmentation(java.lang.Class&lt;E&gt; augmentationType) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/opendaylight/yang/gen/v1/urn/eu/virtuwind/resourcemonitor/impl/rev161017/modules/module/configuration/resourcemonitor/impl/DataBrokerBuilder.java</td>
<td>232</td></tr>
<tr class="b">
<td>org/opendaylight/yang/gen/v1/urn/eu/virtuwind/resourcemonitor/impl/rev161017/modules/module/configuration/resourcemonitor/impl/NotificationServiceBuilder.java</td>
<td>232</td></tr>
<tr class="a">
<td>org/opendaylight/yang/gen/v1/urn/eu/virtuwind/resourcemonitor/impl/rev161017/modules/module/configuration/resourcemonitor/impl/RpcRegistryBuilder.java</td>
<td>232</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>            java.lang.StringBuilder builder = new java.lang.StringBuilder (&quot;DataBroker [&quot;);
            boolean first = true;
        
            if (_name != null) {
                if (first) {
                    first = false;
                } else {
                    builder.append(&quot;, &quot;);
                }
                builder.append(&quot;_name=&quot;);
                builder.append(_name);
             }
            if (_type != null) {
                if (first) {
                    first = false;
                } else {
                    builder.append(&quot;, &quot;);
                }
                builder.append(&quot;_type=&quot;);
                builder.append(_type);
             }
            if (first) {
                first = false;
            } else {
                builder.append(&quot;, &quot;);
            }
            builder.append(&quot;augmentation=&quot;);
            builder.append(augmentation.values());
            return builder.append(']').toString();
        }
    }

}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>eu/virtuwind/resourcemonitor/impl/LatencyMonitor.java</td>
<td>167</td></tr>
<tr class="a">
<td>eu/virtuwind/resourcemonitor/impl/ResourceMonitor.java</td>
<td>392</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    public static List&lt;Link&gt; getAllLinks() {
        List&lt;Link&gt; linkList = new ArrayList&lt;&gt;();

        try {
            TopologyId topoId = new TopologyId(&quot;flow:1&quot;);
            InstanceIdentifier&lt;Topology&gt; nodesIid = InstanceIdentifier.builder(NetworkTopology.class).child(Topology.class, new TopologyKey(topoId)).toInstance();
            ReadOnlyTransaction nodesTransaction = db.newReadOnlyTransaction();
            CheckedFuture&lt;Optional&lt;Topology&gt;, ReadFailedException&gt; nodesFuture = nodesTransaction
                    .read(LogicalDatastoreType.OPERATIONAL, nodesIid);
            Optional&lt;Topology&gt; nodesOptional = nodesFuture.checkedGet();

            if (nodesOptional != null &amp;&amp; nodesOptional.isPresent())
                linkList = nodesOptional.get().getLink();

            return linkList;
        } catch (Exception e) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>eu/virtuwind/resourcemonitor/impl/ResourceMonitor.java</td>
<td>110</td></tr>
<tr class="a">
<td>eu/virtuwind/resourcemonitor/impl/ResourceMonitorProvider.java</td>
<td>173</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        return RpcResultBuilder.success(output.build()).buildFuture();

    }


    /**
     * Recieve DataBroker from Path-Manager
     * and return all nodes from Topology.
     * Procedure is as follows:
     * 1. Make a TopologyId with value flow:1
     * 2. Build the Instance Identifier of the Topology
     * 3. Read the transaction from the DataBroker
     * 4. Get the CheckedFuture Of the topology from the Operational Store
     * 5. Return the Nodes if found else empty list
     *
     * @param db - {@link DataBroker} DataBroker to extract data fromn md-sal
     * @return List&lt;Node&gt; {@link List&lt;Node&gt;} - list of nodes found in the topoology
     */
    public static List&lt;Node&gt; getAllNodes(DataBroker db) {
        List&lt;Node&gt; nodeList = new ArrayList&lt;&gt;();

        try {
            //Topology Id
            TopologyId topoId = new TopologyId(&quot;flow:1&quot;);
            //get the InstanceIdentifier
            InstanceIdentifier&lt;Topology&gt; nodesIid = InstanceIdentifier.builder(NetworkTopology.class).child(Topology.class, new TopologyKey(topoId)).toInstance();
            ReadOnlyTransaction nodesTransaction = db.newReadOnlyTransaction();

            //Read from operational database
            CheckedFuture&lt;Optional&lt;Topology&gt;, ReadFailedException&gt; nodesFuture = nodesTransaction
                    .read(LogicalDatastoreType.OPERATIONAL, nodesIid);
            Optional&lt;Topology&gt; nodesOptional = nodesFuture.checkedGet();

            if (nodesOptional != null &amp;&amp; nodesOptional.isPresent()) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>eu/virtuwind/resourcemonitor/impl/ResourceMonitor.java</td>
<td>235</td></tr>
<tr class="a">
<td>eu/virtuwind/resourcemonitor/impl/TopologyListener.java</td>
<td>190</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                for (Link link : links) {
                    String nodeToFind = link.getSource().getSourceNode().getValue();
                    String outputNodeConnector = link.getSource().getSourceTp().getValue();

                    for (org.opendaylight.yang.gen.v1.urn.opendaylight.inventory.rev130819.nodes.Node node : nodeList) {


                        if (node.getId().getValue().equals(nodeToFind)) {

                            List&lt;NodeConnector&gt; nodeConnectors = node.getNodeConnector();

                            for (NodeConnector nc : nodeConnectors) {

                                if (nc.getId().getValue().equals(outputNodeConnector)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>eu/virtuwind/resourcemonitor/impl/ResourceMonitorProvider.java</td>
<td>177</td></tr>
<tr class="a">
<td>eu/virtuwind/resourcemonitor/impl/TopologyListener.java</td>
<td>295</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        List&lt;Node&gt; nodeList = new ArrayList&lt;&gt;();

        try {
            TopologyId topoId = new TopologyId(&quot;flow:1&quot;);
            InstanceIdentifier&lt;Topology&gt; nodesIid = InstanceIdentifier.builder(NetworkTopology.class).child(Topology.class, new TopologyKey(topoId)).toInstance();
            ReadOnlyTransaction nodesTransaction = db.newReadOnlyTransaction();
            CheckedFuture&lt;Optional&lt;Topology&gt;, ReadFailedException&gt; nodesFuture = nodesTransaction
                    .read(LogicalDatastoreType.OPERATIONAL, nodesIid);
            Optional&lt;Topology&gt; nodesOptional = nodesFuture.checkedGet();

            if (nodesOptional != null &amp;&amp; nodesOptional.isPresent())
                nodeList = nodesOptional.get().getNode();</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>eu/virtuwind/resourcemonitor/impl/ResourceMonitorProvider.java</td>
<td>177</td></tr>
<tr class="a">
<td>eu/virtuwind/resourcemonitor/impl/TopologyListener.java</td>
<td>265</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        List&lt;Node&gt; nodeList = new ArrayList&lt;&gt;();

        try {
            TopologyId topoId = new TopologyId(&quot;flow:1&quot;);
            InstanceIdentifier&lt;Topology&gt; nodesIid = InstanceIdentifier.builder(NetworkTopology.class).child(Topology.class, new TopologyKey(topoId)).toInstance();
            ReadOnlyTransaction nodesTransaction = db.newReadOnlyTransaction();
            CheckedFuture&lt;Optional&lt;Topology&gt;, ReadFailedException&gt; nodesFuture = nodesTransaction
                    .read(LogicalDatastoreType.OPERATIONAL, nodesIid);
            Optional&lt;Topology&gt; nodesOptional = nodesFuture.checkedGet();

            if (nodesOptional != null &amp;&amp; nodesOptional.isPresent())
                nodeList = nodesOptional.get().getNode();</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>eu/virtuwind/resourcemonitor/impl/TopologyListener.java</td>
<td>265</td></tr>
<tr class="a">
<td>eu/virtuwind/resourcemonitor/impl/TopologyListener.java</td>
<td>295</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        List&lt;Node&gt; nodeList = new ArrayList&lt;Node&gt;();

        try {
            TopologyId topoId = new TopologyId(&quot;flow:1&quot;);
            InstanceIdentifier&lt;Topology&gt; nodesIid = InstanceIdentifier.builder(NetworkTopology.class).child(Topology.class, new TopologyKey(topoId)).toInstance();
            ReadOnlyTransaction nodesTransaction = db.newReadOnlyTransaction();
            CheckedFuture&lt;Optional&lt;Topology&gt;, ReadFailedException&gt; nodesFuture = nodesTransaction
                    .read(LogicalDatastoreType.OPERATIONAL, nodesIid);
            Optional&lt;Topology&gt; nodesOptional = nodesFuture.checkedGet();

            if (nodesOptional != null &amp;&amp; nodesOptional.isPresent())
                nodeList = nodesOptional.get().getNode();</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>eu/virtuwind/resourcemonitor/impl/ResourceMonitor.java</td>
<td>129</td></tr>
<tr class="a">
<td>eu/virtuwind/resourcemonitor/impl/TopologyListener.java</td>
<td>295</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        List&lt;Node&gt; nodeList = new ArrayList&lt;&gt;();

        try {
            //Topology Id
            TopologyId topoId = new TopologyId(&quot;flow:1&quot;);
            //get the InstanceIdentifier
            InstanceIdentifier&lt;Topology&gt; nodesIid = InstanceIdentifier.builder(NetworkTopology.class).child(Topology.class, new TopologyKey(topoId)).toInstance();
            ReadOnlyTransaction nodesTransaction = db.newReadOnlyTransaction();

            //Read from operational database
            CheckedFuture&lt;Optional&lt;Topology&gt;, ReadFailedException&gt; nodesFuture = nodesTransaction
                    .read(LogicalDatastoreType.OPERATIONAL, nodesIid);
            Optional&lt;Topology&gt; nodesOptional = nodesFuture.checkedGet();

            if (nodesOptional != null &amp;&amp; nodesOptional.isPresent()) {</pre></div></td></tr></table></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2018
                        <a href="https://www.opendaylight.org">OpenDaylight</a>.
            All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
